<!DOCTYPE html>
<html>

<head>
    <title>Device 1</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="stylesheets/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="animation.js"></script>
</head>

<body>


    <script>
        /*  var requestOptions = {                                                                                                                                                                                                                                 method: 'GET',
                                                                                                                                                                                                                                                                                                                                                    redirect: 'follow'
                                                                                                                                                                                                                                                                                                                                                };

                                                                                                                                                                                                                                                                                                                                                fetch(" https://genergetic.us-south.cf.appdomain.cloud/readings/b827ebbade18&status", requestOptions)
                                                                                                                                                                                                                                                                                                                                                    .then(response => response.text())
                                                                                                                                                                                                                                                                                                                                                    //.then(result => console.log(result))
                                                                                                                                                                                                                                                                                                                                                    .catch(error => console.log('error', error));
                                                                                                                                                                                                                                                                                                                                                console.log("%s %o", JSON.stringify(result['result']));
                                                                                                                                                                                                                                                                                                                                            */

        var time_Rp = {
            "async": true,
            "crossDomain": true,
            "url": " https://genergetic.us-south.cf.appdomain.cloud/readings/kevmacpro&status",
            "method": "GET"
        }

        $.ajax(time_Rp).done(function(response) {
            console.log(response.readings);


            document.getElementById("demo").innerHTML = response.readings[0].timestamp;

            document.getElementById("power").innerHTML = response.readings[0].power;



        });
    </script>

    <div style="padding-left: 10%; padding-right: 10%; margin-left: 20%; margin-right: 20%;">
        <button class="collapsible">
      <div class="row">
      <div class="column">
 <h1>Detailed view</h1>
        <script>
        //Information about the device name 
        var device_name = {
            "async": true,
            "crossDomain": true,
            "url": "https://genergetic.us-south.cf.appdomain.cloud/devices",
            "method": "GET"
        }

        $.ajax(device_name).done(function(response) {
            console.log(response.results.length);
            var a = 0;
            
            document.getElementById("name").innerHTML = response.results[0].typeId;




        });





        </script>
     <h3 id = "name">Device 1</h3> 
      </div>
        <div class="column">
            <h3>Current Readings </h3>
            <br>
            <h4><b>Voltage</b>: 20 </h4>
            <h4 id="current_reading_1"><b>Time since last turned on</b>
                <p id="demo"></p>


            </h4>

            <label for="disk_c"><h4><b>Total power utilizations</b> <p id="power"></p></h4></label>
            <meter id="disk_c" value=".4" low="0.2" optimum="-.5" style="margin">4</meter><br>

            <div id="test">
                <button id="Device_1" style="margin-bottom: 5%" class="float-left submit-button">Go back</button>

    </div>
    <script type="text/javascript">
        document.getElementById("Device_1").onclick = function() {
            location.href = "index.html";
        };
    </script>
    </div>

    </div>
    </button>

</body>

</html>
